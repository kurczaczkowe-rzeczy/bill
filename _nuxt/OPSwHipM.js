import{j as J,k as Y,D as xo,E as ke,G as _o,H as Co,I as ze,i as T,n as St,J as nn,s as Xe,K as Eo,L as xr,M as on,p as se,e as rn,c as Z,o as K,r as Ke,y as Do,a as G,A as Bt,b as ne,C as Ao,m as Ze,B as et,x as To,g as Ht,N as _r,d as En,t as me,F as ft,h as pt,O as Yt,T as Cr,P as Er,Q as Dn,R as Dr,q as Oo,f as Ar,w as Se,S as Tr,_ as Or,l as kr,U as Ir,v as Xn,V as Pr,z as dn,W as Mr,X as Rr,Y as Nr,Z as Lr}from"./Bq2boLbn.js";import{_ as Fr}from"./B0a_AkUQ.js";import{groupProductsByCategoryJs as Br,UnitEnum as ht,getShoppingListChannelName as Vr}from"./C_3qEjVf.js";import{b as $r,u as ko,s as we,r as Ve,a as Wr,k as zt,g as jr,c as Xr,i as Hr,p as Yr}from"./B_1Oq-_6.js";import{_ as fn}from"./yw1cUew6.js";const ot=Math.min,de=Math.max,Ut=Math.round,It=Math.floor,xe=e=>({x:e,y:e}),zr={left:"right",right:"left",bottom:"top",top:"bottom"},Ur={start:"end",end:"start"};function Hn(e,t,n){return de(e,ot(t,n))}function Ct(e,t){return typeof e=="function"?e(t):e}function Fe(e){return e.split("-")[0]}function Et(e){return e.split("-")[1]}function Io(e){return e==="x"?"y":"x"}function Po(e){return e==="y"?"height":"width"}const qr=new Set(["top","bottom"]);function Oe(e){return qr.has(Fe(e))?"y":"x"}function Mo(e){return Io(Oe(e))}function Gr(e,t,n){n===void 0&&(n=!1);const o=Et(e),r=Mo(e),a=Po(r);let i=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=qt(i)),[i,qt(i)]}function Kr(e){const t=qt(e);return[An(e),t,An(t)]}function An(e){return e.replace(/start|end/g,t=>Ur[t])}const Yn=["left","right"],zn=["right","left"],Jr=["top","bottom"],Qr=["bottom","top"];function Zr(e,t,n){switch(e){case"top":case"bottom":return n?t?zn:Yn:t?Yn:zn;case"left":case"right":return t?Jr:Qr;default:return[]}}function ei(e,t,n,o){const r=Et(e);let a=Zr(Fe(e),n==="start",o);return r&&(a=a.map(i=>i+"-"+r),t&&(a=a.concat(a.map(An)))),a}function qt(e){return e.replace(/left|right|bottom|top/g,t=>zr[t])}function ti(e){return{top:0,right:0,bottom:0,left:0,...e}}function ni(e){return typeof e!="number"?ti(e):{top:e,right:e,bottom:e,left:e}}function Gt(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function Un(e,t,n){let{reference:o,floating:r}=e;const a=Oe(t),i=Mo(t),s=Po(i),l=Fe(t),c=a==="y",u=o.x+o.width/2-r.width/2,d=o.y+o.height/2-r.height/2,y=o[s]/2-r[s]/2;let f;switch(l){case"top":f={x:u,y:o.y-r.height};break;case"bottom":f={x:u,y:o.y+o.height};break;case"right":f={x:o.x+o.width,y:d};break;case"left":f={x:o.x-r.width,y:d};break;default:f={x:o.x,y:o.y}}switch(Et(t)){case"start":f[i]-=y*(n&&c?-1:1);break;case"end":f[i]+=y*(n&&c?-1:1);break}return f}const oi=async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:a=[],platform:i}=n,s=a.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:d}=Un(c,o,l),y=o,f={},b=0;for(let v=0;v<s.length;v++){const{name:m,fn:g}=s[v],{x:h,y:p,data:E,reset:C}=await g({x:u,y:d,initialPlacement:o,placement:y,strategy:r,middlewareData:f,rects:c,platform:i,elements:{reference:e,floating:t}});u=h??u,d=p??d,f={...f,[m]:{...f[m],...E}},C&&b<=50&&(b++,typeof C=="object"&&(C.placement&&(y=C.placement),C.rects&&(c=C.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:r}):C.rects),{x:u,y:d}=Un(c,y,l)),v=-1)}return{x:u,y:d,placement:y,strategy:r,middlewareData:f}};async function Rn(e,t){var n;t===void 0&&(t={});const{x:o,y:r,platform:a,rects:i,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:y=!1,padding:f=0}=Ct(t,e),b=ni(f),m=s[y?d==="floating"?"reference":"floating":d],g=Gt(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(m)))==null||n?m:m.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),h=d==="floating"?{x:o,y:r,width:i.floating.width,height:i.floating.height}:i.reference,p=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),E=await(a.isElement==null?void 0:a.isElement(p))?await(a.getScale==null?void 0:a.getScale(p))||{x:1,y:1}:{x:1,y:1},C=Gt(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:h,offsetParent:p,strategy:l}):h);return{top:(g.top-C.top+b.top)/E.y,bottom:(C.bottom-g.bottom+b.bottom)/E.y,left:(g.left-C.left+b.left)/E.x,right:(C.right-g.right+b.right)/E.x}}const ri=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:a,rects:i,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:y,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...m}=Ct(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const g=Fe(r),h=Oe(s),p=Fe(s)===s,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=y||(p||!v?[qt(s)]:Kr(s)),F=b!=="none";!y&&F&&C.push(...ei(s,v,b,E));const R=[s,...C],_=await Rn(t,m),A=[];let V=((o=a.flip)==null?void 0:o.overflows)||[];if(u&&A.push(_[g]),d){const x=Gr(r,i,E);A.push(_[x[0]],_[x[1]])}if(V=[...V,{placement:r,overflows:A}],!A.every(x=>x<=0)){var D,S;const x=(((D=a.flip)==null?void 0:D.index)||0)+1,k=R[x];if(k&&(!(d==="alignment"?h!==Oe(k):!1)||V.every(X=>Oe(X.placement)===h?X.overflows[0]>0:!0)))return{data:{index:x,overflows:V},reset:{placement:k}};let B=(S=V.filter(W=>W.overflows[0]<=0).sort((W,X)=>W.overflows[1]-X.overflows[1])[0])==null?void 0:S.placement;if(!B)switch(f){case"bestFit":{var O;const W=(O=V.filter(X=>{if(F){const te=Oe(X.placement);return te===h||te==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(te=>te>0).reduce((te,at)=>te+at,0)]).sort((X,te)=>X[1]-te[1])[0])==null?void 0:O[0];W&&(B=W);break}case"initialPlacement":B=s;break}if(r!==B)return{reset:{placement:B}}}return{}}}},ii=new Set(["left","top"]);async function ai(e,t){const{placement:n,platform:o,elements:r}=e,a=await(o.isRTL==null?void 0:o.isRTL(r.floating)),i=Fe(n),s=Et(n),l=Oe(n)==="y",c=ii.has(i)?-1:1,u=a&&l?-1:1,d=Ct(t,e);let{mainAxis:y,crossAxis:f,alignmentAxis:b}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof b=="number"&&(f=s==="end"?b*-1:b),l?{x:f*u,y:y*c}:{x:y*c,y:f*u}}const li=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:a,placement:i,middlewareData:s}=t,l=await ai(t,e);return i===((n=s.offset)==null?void 0:n.placement)&&(o=s.arrow)!=null&&o.alignmentOffset?{}:{x:r+l.x,y:a+l.y,data:{...l,placement:i}}}}},si=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:s={fn:m=>{let{x:g,y:h}=m;return{x:g,y:h}}},...l}=Ct(e,t),c={x:n,y:o},u=await Rn(t,l),d=Oe(Fe(r)),y=Io(d);let f=c[y],b=c[d];if(a){const m=y==="y"?"top":"left",g=y==="y"?"bottom":"right",h=f+u[m],p=f-u[g];f=Hn(h,f,p)}if(i){const m=d==="y"?"top":"left",g=d==="y"?"bottom":"right",h=b+u[m],p=b-u[g];b=Hn(h,b,p)}const v=s.fn({...t,[y]:f,[d]:b});return{...v,data:{x:v.x-n,y:v.y-o,enabled:{[y]:a,[d]:i}}}}}},ci=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:r,rects:a,platform:i,elements:s}=t,{apply:l=()=>{},...c}=Ct(e,t),u=await Rn(t,c),d=Fe(r),y=Et(r),f=Oe(r)==="y",{width:b,height:v}=a.floating;let m,g;d==="top"||d==="bottom"?(m=d,g=y===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(g=d,m=y==="end"?"top":"bottom");const h=v-u.top-u.bottom,p=b-u.left-u.right,E=ot(v-u[m],h),C=ot(b-u[g],p),F=!t.middlewareData.shift;let R=E,_=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=p),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(R=h),F&&!y){const V=de(u.left,0),D=de(u.right,0),S=de(u.top,0),O=de(u.bottom,0);f?_=b-2*(V!==0||D!==0?V+D:de(u.left,u.right)):R=v-2*(S!==0||O!==0?S+O:de(u.top,u.bottom))}await l({...t,availableWidth:_,availableHeight:R});const A=await i.getDimensions(s.floating);return b!==A.width||v!==A.height?{reset:{rects:!0}}:{}}}};function an(){return typeof window<"u"}function Ye(e){return Nn(e)?(e.nodeName||"").toLowerCase():"#document"}function pe(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function De(e){var t;return(t=(Nn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Nn(e){return an()?e instanceof Node||e instanceof pe(e).Node:!1}function ye(e){return an()?e instanceof Element||e instanceof pe(e).Element:!1}function Ce(e){return an()?e instanceof HTMLElement||e instanceof pe(e).HTMLElement:!1}function qn(e){return!an()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof pe(e).ShadowRoot}const ui=new Set(["inline","contents"]);function Dt(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=be(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!ui.has(r)}const di=new Set(["table","td","th"]);function fi(e){return di.has(Ye(e))}const pi=[":popover-open",":modal"];function ln(e){return pi.some(t=>{try{return e.matches(t)}catch{return!1}})}const hi=["transform","translate","scale","rotate","perspective"],gi=["transform","translate","scale","rotate","perspective","filter"],mi=["paint","layout","strict","content"];function Ln(e){const t=Fn(),n=ye(e)?be(e):e;return hi.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||gi.some(o=>(n.willChange||"").includes(o))||mi.some(o=>(n.contain||"").includes(o))}function vi(e){let t=Be(e);for(;Ce(t)&&!rt(t);){if(Ln(t))return t;if(ln(t))return null;t=Be(t)}return null}function Fn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const yi=new Set(["html","body","#document"]);function rt(e){return yi.has(Ye(e))}function be(e){return pe(e).getComputedStyle(e)}function sn(e){return ye(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Be(e){if(Ye(e)==="html")return e;const t=e.assignedSlot||e.parentNode||qn(e)&&e.host||De(e);return qn(t)?t.host:t}function Ro(e){const t=Be(e);return rt(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ce(t)&&Dt(t)?t:Ro(t)}function xt(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=Ro(e),a=r===((o=e.ownerDocument)==null?void 0:o.body),i=pe(r);if(a){const s=Tn(i);return t.concat(i,i.visualViewport||[],Dt(r)?r:[],s&&n?xt(s):[])}return t.concat(r,xt(r,[],n))}function Tn(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function No(e){const t=be(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=Ce(e),a=r?e.offsetWidth:n,i=r?e.offsetHeight:o,s=Ut(n)!==a||Ut(o)!==i;return s&&(n=a,o=i),{width:n,height:o,$:s}}function Bn(e){return ye(e)?e:e.contextElement}function tt(e){const t=Bn(e);if(!Ce(t))return xe(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:a}=No(t);let i=(a?Ut(n.width):n.width)/o,s=(a?Ut(n.height):n.height)/r;return(!i||!Number.isFinite(i))&&(i=1),(!s||!Number.isFinite(s))&&(s=1),{x:i,y:s}}const bi=xe(0);function Lo(e){const t=pe(e);return!Fn()||!t.visualViewport?bi:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wi(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==pe(e)?!1:t}function He(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=Bn(e);let i=xe(1);t&&(o?ye(o)&&(i=tt(o)):i=tt(e));const s=wi(a,n,o)?Lo(a):xe(0);let l=(r.left+s.x)/i.x,c=(r.top+s.y)/i.y,u=r.width/i.x,d=r.height/i.y;if(a){const y=pe(a),f=o&&ye(o)?pe(o):o;let b=y,v=Tn(b);for(;v&&o&&f!==b;){const m=tt(v),g=v.getBoundingClientRect(),h=be(v),p=g.left+(v.clientLeft+parseFloat(h.paddingLeft))*m.x,E=g.top+(v.clientTop+parseFloat(h.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,d*=m.y,l+=p,c+=E,b=pe(v),v=Tn(b)}}return Gt({width:u,height:d,x:l,y:c})}function cn(e,t){const n=sn(e).scrollLeft;return t?t.left+n:He(De(e)).left+n}function Fo(e,t){const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-cn(e,n),r=n.top+t.scrollTop;return{x:o,y:r}}function Si(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const a=r==="fixed",i=De(o),s=t?ln(t.floating):!1;if(o===i||s&&a)return n;let l={scrollLeft:0,scrollTop:0},c=xe(1);const u=xe(0),d=Ce(o);if((d||!d&&!a)&&((Ye(o)!=="body"||Dt(i))&&(l=sn(o)),Ce(o))){const f=He(o);c=tt(o),u.x=f.x+o.clientLeft,u.y=f.y+o.clientTop}const y=i&&!d&&!a?Fo(i,l):xe(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+y.x,y:n.y*c.y-l.scrollTop*c.y+u.y+y.y}}function xi(e){return Array.from(e.getClientRects())}function _i(e){const t=De(e),n=sn(e),o=e.ownerDocument.body,r=de(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),a=de(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let i=-n.scrollLeft+cn(e);const s=-n.scrollTop;return be(o).direction==="rtl"&&(i+=de(t.clientWidth,o.clientWidth)-r),{width:r,height:a,x:i,y:s}}const Gn=25;function Ci(e,t){const n=pe(e),o=De(e),r=n.visualViewport;let a=o.clientWidth,i=o.clientHeight,s=0,l=0;if(r){a=r.width,i=r.height;const u=Fn();(!u||u&&t==="fixed")&&(s=r.offsetLeft,l=r.offsetTop)}const c=cn(o);if(c<=0){const u=o.ownerDocument,d=u.body,y=getComputedStyle(d),f=u.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,b=Math.abs(o.clientWidth-d.clientWidth-f);b<=Gn&&(a-=b)}else c<=Gn&&(a+=c);return{width:a,height:i,x:s,y:l}}const Ei=new Set(["absolute","fixed"]);function Di(e,t){const n=He(e,!0,t==="fixed"),o=n.top+e.clientTop,r=n.left+e.clientLeft,a=Ce(e)?tt(e):xe(1),i=e.clientWidth*a.x,s=e.clientHeight*a.y,l=r*a.x,c=o*a.y;return{width:i,height:s,x:l,y:c}}function Kn(e,t,n){let o;if(t==="viewport")o=Ci(e,n);else if(t==="document")o=_i(De(e));else if(ye(t))o=Di(t,n);else{const r=Lo(e);o={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Gt(o)}function Bo(e,t){const n=Be(e);return n===t||!ye(n)||rt(n)?!1:be(n).position==="fixed"||Bo(n,t)}function Ai(e,t){const n=t.get(e);if(n)return n;let o=xt(e,[],!1).filter(s=>ye(s)&&Ye(s)!=="body"),r=null;const a=be(e).position==="fixed";let i=a?Be(e):e;for(;ye(i)&&!rt(i);){const s=be(i),l=Ln(i);!l&&s.position==="fixed"&&(r=null),(a?!l&&!r:!l&&s.position==="static"&&!!r&&Ei.has(r.position)||Dt(i)&&!l&&Bo(e,i))?o=o.filter(u=>u!==i):r=s,i=Be(i)}return t.set(e,o),o}function Ti(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const i=[...n==="clippingAncestors"?ln(t)?[]:Ai(t,this._c):[].concat(n),o],s=i[0],l=i.reduce((c,u)=>{const d=Kn(t,u,r);return c.top=de(d.top,c.top),c.right=ot(d.right,c.right),c.bottom=ot(d.bottom,c.bottom),c.left=de(d.left,c.left),c},Kn(t,s,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Oi(e){const{width:t,height:n}=No(e);return{width:t,height:n}}function ki(e,t,n){const o=Ce(t),r=De(t),a=n==="fixed",i=He(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=xe(0);function c(){l.x=cn(r)}if(o||!o&&!a)if((Ye(t)!=="body"||Dt(r))&&(s=sn(t)),o){const f=He(t,!0,a,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else r&&c();a&&!o&&r&&c();const u=r&&!o&&!a?Fo(r,s):xe(0),d=i.left+s.scrollLeft-l.x-u.x,y=i.top+s.scrollTop-l.y-u.y;return{x:d,y,width:i.width,height:i.height}}function pn(e){return be(e).position==="static"}function Jn(e,t){if(!Ce(e)||be(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return De(e)===n&&(n=n.ownerDocument.body),n}function Vo(e,t){const n=pe(e);if(ln(e))return n;if(!Ce(e)){let r=Be(e);for(;r&&!rt(r);){if(ye(r)&&!pn(r))return r;r=Be(r)}return n}let o=Jn(e,t);for(;o&&fi(o)&&pn(o);)o=Jn(o,t);return o&&rt(o)&&pn(o)&&!Ln(o)?n:o||vi(e)||n}const Ii=async function(e){const t=this.getOffsetParent||Vo,n=this.getDimensions,o=await n(e.floating);return{reference:ki(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Pi(e){return be(e).direction==="rtl"}const Mi={convertOffsetParentRelativeRectToViewportRelativeRect:Si,getDocumentElement:De,getClippingRect:Ti,getOffsetParent:Vo,getElementRects:Ii,getClientRects:xi,getDimensions:Oi,getScale:tt,isElement:ye,isRTL:Pi};function $o(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ri(e,t){let n=null,o;const r=De(e);function a(){var s;clearTimeout(o),(s=n)==null||s.disconnect(),n=null}function i(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const c=e.getBoundingClientRect(),{left:u,top:d,width:y,height:f}=c;if(s||t(),!y||!f)return;const b=It(d),v=It(r.clientWidth-(u+y)),m=It(r.clientHeight-(d+f)),g=It(u),p={rootMargin:-b+"px "+-v+"px "+-m+"px "+-g+"px",threshold:de(0,ot(1,l))||1};let E=!0;function C(F){const R=F[0].intersectionRatio;if(R!==l){if(!E)return i();R?i(!1,R):o=setTimeout(()=>{i(!1,1e-7)},1e3)}R===1&&!$o(c,e.getBoundingClientRect())&&i(),E=!1}try{n=new IntersectionObserver(C,{...p,root:r.ownerDocument})}catch{n=new IntersectionObserver(C,p)}n.observe(e)}return i(!0),a}function Ni(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=o,c=Bn(e),u=r||a?[...c?xt(c):[],...xt(t)]:[];u.forEach(g=>{r&&g.addEventListener("scroll",n,{passive:!0}),a&&g.addEventListener("resize",n)});const d=c&&s?Ri(c,n):null;let y=-1,f=null;i&&(f=new ResizeObserver(g=>{let[h]=g;h&&h.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var p;(p=f)==null||p.observe(t)})),n()}),c&&!l&&f.observe(c),f.observe(t));let b,v=l?He(e):null;l&&m();function m(){const g=He(e);v&&!$o(v,g)&&n(),v=g,b=requestAnimationFrame(m)}return n(),()=>{var g;u.forEach(h=>{r&&h.removeEventListener("scroll",n),a&&h.removeEventListener("resize",n)}),d?.(),(g=f)==null||g.disconnect(),f=null,l&&cancelAnimationFrame(b)}}const Li=li,Fi=si,Bi=ri,Vi=ci,$i=(e,t,n)=>{const o=new Map,r={platform:Mi,...n},a={...r.platform,_c:o};return oi(e,t,{...r,platform:a})};function Wi(e){return e!=null&&typeof e=="object"&&"$el"in e}function Qn(e){if(Wi(e)){const t=e.$el;return Nn(t)&&Ye(t)==="#comment"?null:t}return e}function lt(e){return typeof e=="function"?e():T(e)}function Wo(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Zn(e,t){const n=Wo(e);return Math.round(t*n)/n}function ji(e,t,n){n===void 0&&(n={});const o=n.whileElementsMounted,r=J(()=>{var R;return(R=lt(n.open))!=null?R:!0}),a=J(()=>lt(n.middleware)),i=J(()=>{var R;return(R=lt(n.placement))!=null?R:"bottom"}),s=J(()=>{var R;return(R=lt(n.strategy))!=null?R:"absolute"}),l=J(()=>{var R;return(R=lt(n.transform))!=null?R:!0}),c=J(()=>Qn(e.value)),u=J(()=>Qn(t.value)),d=Y(0),y=Y(0),f=Y(s.value),b=Y(i.value),v=xo({}),m=Y(!1),g=J(()=>{const R={position:f.value,left:"0",top:"0"};if(!u.value)return R;const _=Zn(u.value,d.value),A=Zn(u.value,y.value);return l.value?{...R,transform:"translate("+_+"px, "+A+"px)",...Wo(u.value)>=1.5&&{willChange:"transform"}}:{position:f.value,left:_+"px",top:A+"px"}});let h;function p(){if(c.value==null||u.value==null)return;const R=r.value;$i(c.value,u.value,{middleware:a.value,placement:i.value,strategy:s.value}).then(_=>{d.value=_.x,y.value=_.y,f.value=_.strategy,b.value=_.placement,v.value=_.middlewareData,m.value=R!==!1})}function E(){typeof h=="function"&&(h(),h=void 0)}function C(){if(E(),o===void 0){p();return}if(c.value!=null&&u.value!=null){h=o(c.value,u.value,p);return}}function F(){r.value||(m.value=!1)}return ke([a,i,s,r],p,{flush:"sync"}),ke([c,u],C,{flush:"sync"}),ke(r,F,{flush:"sync"}),_o()&&Co(E),{x:ze(d),y:ze(y),strategy:ze(f),placement:ze(b),middlewareData:ze(v),isPositioned:ze(m),floatingStyles:g,update:p}}function Xi(e){return _o()?(Co(e),!0):!1}const jo=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Hi=Object.prototype.toString,Yi=e=>Hi.call(e)==="[object Object]",Te=()=>{},zi=Ui();function Ui(){var e,t;return jo&&((e=window?.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window?.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function qi(...e){if(e.length!==1)return Eo(...e);const t=e[0];return typeof t=="function"?Xe(xr(()=>({get:t,set:Te}))):Y(t)}function Xo(e,t){function n(...o){return new Promise((r,a)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(r).catch(a)})}return n}const Ho=e=>e();function Gi(e,t={}){let n,o,r=Te;const a=l=>{clearTimeout(l),r(),r=Te};let i;return l=>{const c=se(e),u=se(t.maxWait);return n&&a(n),c<=0||u!==void 0&&u<=0?(o&&(a(o),o=void 0),Promise.resolve(l())):new Promise((d,y)=>{r=t.rejectOnCancel?y:d,i=l,u&&!o&&(o=setTimeout(()=>{n&&a(n),o=void 0,d(i())},u)),n=setTimeout(()=>{o&&a(o),o=void 0,d(l())},c)})}}function Ki(e=Ho,t={}){const{initialState:n="active"}=t,o=qi(n==="active");function r(){o.value=!1}function a(){o.value=!0}const i=(...s)=>{o.value&&e(...s)};return{isActive:Xe(o),pause:r,resume:a,eventFilter:i}}function hn(e){return Array.isArray(e)?e:[e]}function Ji(e){return on()}function Qi(e,t=200,n={}){return Xo(Gi(t,n),e)}function Zi(e,t,n={}){const{eventFilter:o=Ho,...r}=n;return ke(e,Xo(o,t),r)}function ea(e,t,n={}){const{eventFilter:o,initialState:r="active",...a}=n,{eventFilter:i,pause:s,resume:l,isActive:c}=Ki(o,{initialState:r});return{stop:Zi(e,t,{...a,eventFilter:i}),pause:s,resume:l,isActive:c}}function ta(e,t=!0,n){Ji()?St(e,n):t?e():nn(e)}function na(e,t,n){return ke(e,t,{...n,immediate:!0})}const _t=jo?window:void 0;function st(e){var t;const n=se(e);return(t=n?.$el)!=null?t:n}function gt(...e){const t=[],n=()=>{t.forEach(s=>s()),t.length=0},o=(s,l,c,u)=>(s.addEventListener(l,c,u),()=>s.removeEventListener(l,c,u)),r=J(()=>{const s=hn(se(e[0])).filter(l=>l!=null);return s.every(l=>typeof l!="string")?s:void 0}),a=na(()=>{var s,l;return[(l=(s=r.value)==null?void 0:s.map(c=>st(c)))!=null?l:[_t].filter(c=>c!=null),hn(se(r.value?e[1]:e[0])),hn(T(r.value?e[2]:e[1])),se(r.value?e[3]:e[2])]},([s,l,c,u])=>{if(n(),!s?.length||!l?.length||!c?.length)return;const d=Yi(u)?{...u}:u;t.push(...s.flatMap(y=>l.flatMap(f=>c.map(b=>o(y,f,b,d)))))},{flush:"post"}),i=()=>{a(),n()};return Xi(n),i}let eo=!1;function oa(e,t,n={}){const{window:o=_t,ignore:r=[],capture:a=!0,detectIframe:i=!1,controls:s=!1}=n;if(!o)return s?{stop:Te,cancel:Te,trigger:Te}:Te;if(zi&&!eo){eo=!0;const m={passive:!0};Array.from(o.document.body.children).forEach(g=>g.addEventListener("click",Te,m)),o.document.documentElement.addEventListener("click",Te,m)}let l=!0;const c=m=>se(r).some(g=>{if(typeof g=="string")return Array.from(o.document.querySelectorAll(g)).some(h=>h===m.target||m.composedPath().includes(h));{const h=st(g);return h&&(m.target===h||m.composedPath().includes(h))}});function u(m){const g=se(m);return g&&g.$.subTree.shapeFlag===16}function d(m,g){const h=se(m),p=h.$.subTree&&h.$.subTree.children;return p==null||!Array.isArray(p)?!1:p.some(E=>E.el===g.target||g.composedPath().includes(E.el))}const y=m=>{const g=st(e);if(m.target!=null&&!(!(g instanceof Element)&&u(e)&&d(e,m))&&!(!g||g===m.target||m.composedPath().includes(g))){if("detail"in m&&m.detail===0&&(l=!c(m)),!l){l=!0;return}t(m)}};let f=!1;const b=[gt(o,"click",m=>{f||(f=!0,setTimeout(()=>{f=!1},0),y(m))},{passive:!0,capture:a}),gt(o,"pointerdown",m=>{const g=st(e);l=!c(m)&&!!(g&&!m.composedPath().includes(g))},{passive:!0}),i&&gt(o,"blur",m=>{setTimeout(()=>{var g;const h=st(e);((g=o.document.activeElement)==null?void 0:g.tagName)==="IFRAME"&&!h?.contains(o.document.activeElement)&&t(m)},0)},{passive:!0})].filter(Boolean),v=()=>b.forEach(m=>m());return s?{stop:v,cancel:()=>{l=!1},trigger:m=>{l=!0,y(m),l=!1}}:v}const Pt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mt="__vueuse_ssr_handlers__",ra=ia();function ia(){return Mt in Pt||(Pt[Mt]=Pt[Mt]||{}),Pt[Mt]}function aa(e,t){return ra[e]||t}function la(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const sa={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},to="vueuse-storage";function ca(e,t,n,o={}){var r;const{flush:a="pre",deep:i=!0,listenToStorageChanges:s=!0,writeDefaults:l=!0,mergeDefaults:c=!1,shallow:u,window:d=_t,eventFilter:y,onError:f=x=>{console.error(x)},initOnMounted:b}=o,v=(u?xo:Y)(typeof t=="function"?t():t),m=J(()=>se(e));if(!n)try{n=aa("getDefaultStorage",()=>{var x;return(x=_t)==null?void 0:x.localStorage})()}catch(x){f(x)}if(!n)return v;const g=se(t),h=la(g),p=(r=o.serializer)!=null?r:sa[h],{pause:E,resume:C}=ea(v,x=>V(x),{flush:a,deep:i,eventFilter:y});ke(m,()=>S(),{flush:a});let F=!1;const R=x=>{b&&!F||S(x)},_=x=>{b&&!F||O(x)};d&&s&&(n instanceof Storage?gt(d,"storage",R,{passive:!0}):gt(d,to,_)),b?ta(()=>{F=!0,S()}):S();function A(x,k){if(d){const B={key:m.value,oldValue:x,newValue:k,storageArea:n};d.dispatchEvent(n instanceof Storage?new StorageEvent("storage",B):new CustomEvent(to,{detail:B}))}}function V(x){try{const k=n.getItem(m.value);if(x==null)A(k,null),n.removeItem(m.value);else{const B=p.write(x);k!==B&&(n.setItem(m.value,B),A(k,B))}}catch(k){f(k)}}function D(x){const k=x?x.newValue:n.getItem(m.value);if(k==null)return l&&g!=null&&n.setItem(m.value,p.write(g)),g;if(!x&&c){const B=p.read(k);return typeof c=="function"?c(B,g):h==="object"&&!Array.isArray(B)?{...g,...B}:B}else return typeof k!="string"?k:p.read(k)}function S(x){if(!(x&&x.storageArea!==n)){if(x&&x.key==null){v.value=g;return}if(!(x&&x.key!==m.value)){E();try{const k=p.write(v.value);(x===void 0||x?.newValue!==k)&&(v.value=D(x))}catch(k){f(k)}finally{x?nn(C):C()}}}}function O(x){S(x.detail)}return v}function ua(e,t,n={}){const{window:o=_t}=n;return ca(e,t,o?.localStorage,n)}const da=["aria-controls","placeholder"],fa=["id"],pa={key:0,class:"list-row"},ha={key:1,class:"list-row"},ga={key:0,class:"opacity-60"},ma={key:1,class:"opacity-60"},va=["onClick","onMouseenter"],ya=rn({__name:"BaseAutocomplete",props:{modelValue:{default:""},suggestions:{default:()=>[]},isLoading:{type:Boolean,default:!1},placeholder:{default:"Wyszukaj..."},wrapperClass:{default:""},debounceMs:{default:300},labelKey:{default:"label"},minLengthQuery:{default:3},listId:{},matchBy:{}},emits:["update:modelValue","search","select"],setup(e,{emit:t}){const n=e,o=t,r=Y(n.modelValue),a=Y(!1),i=Y(-1),s=Y(),l=Y(),c=Y(),{floatingStyles:u}=ji(l,c,{placement:"bottom-start",middleware:[Li(10),Bi(),Fi(),Vi({apply({availableWidth:h,elements:p}){Object.assign(p.floating.style,{maxWidth:`${h}px`,width:`${p.reference.getBoundingClientRect().width}px`})}})],whileElementsMounted:Ni}),d=Qi(h=>{o("search",h)},n.debounceMs);function y(h){a.value=!0;const p=h.target.value;r.value=p,o("update:modelValue",p),i.value=-1,p.length>=n.minLengthQuery&&d(p)}function f(h){switch(h.key.toLowerCase()){case"arrowdown":{h.preventDefault(),i.value=Math.min(i.value+1,n.suggestions.length-1),!a.value&&i.value>=0&&b(n.suggestions[i.value]);break}case"arrowup":{h.preventDefault(),i.value=Math.max(i.value-1,0),!a.value&&i.value>=0&&b(n.suggestions[i.value]);break}case"enter":{a.value&&(h.preventDefault(),i.value>=0&&b(n.suggestions[i.value]));break}case"escape":{a.value=!1,i.value=-1;break}case"tab":{a.value&&(h.preventDefault(),b(n.suggestions[i.value])),a.value=!1,i.value=g(n.suggestions,r.value),i.value>=0&&b(n.suggestions[i.value]);break}}}function b(h){h&&(o("select",h),r.value=`${h[n.labelKey]}`||h.toString(),o("update:modelValue",r.value),a.value&&(i.value=n.suggestions.findIndex(p=>p.id===h.id)),a.value=!1)}function v(){n.suggestions.length!==0&&(i.value=g(n.suggestions,r.value),a.value=!0)}oa(s,()=>{a.value=!1});function m(h){l.value=h}function g(h,p){return h.findIndex(E=>n.matchBy?n.matchBy?.(E,p):E[n.labelKey]===p)}return ke(()=>n.modelValue,h=>{r.value=h}),(h,p)=>{const E=To;return K(),Z("div",{ref_key:"containerRef",ref:s,class:Yt([h.wrapperClass,"relative w-full"])},[Ke(h.$slots,"input",{attrs:h.$attrs,bindFieldRef:m,handleClick:v,handleInput:y,handleKeydown:f,listId:h.listId,value:T(r)},()=>[G("div",{ref_key:"reference",ref:l,class:"flex items-center gap-2 input input-ghost w-full"},[Bt(G("input",Ze({"onUpdate:modelValue":p[0]||(p[0]=C=>et(r)?r.value=C:null),"aria-controls":h.listId,placeholder:h.placeholder,"aria-autocomplete":"list",autocomplete:"off",role:"combobox",type:"text"},h.$attrs,{onClick:v,onInput:y,onKeydown:f}),null,16,da),[[Ao,T(r)]]),ne(E,{class:"autocomplete-arrow",name:"mdi:chevron-down"})],512)]),(K(),Do(Cr,{to:"#teleports"},[T(a)?(K(),Z("div",{key:0,ref_key:"floating",ref:c,style:_r(T(u)),class:"absolute z-50 w-full bg-base-100 rounded-box shadow-lg border-1 overflow-hidden"},[G("ul",{id:h.listId,class:"list max-h-64 overflow-auto"},[h.isLoading?(K(),Z("li",pa,[Ke(h.$slots,"loading",{},()=>[p[1]||(p[1]=G("span",{class:"loading loading-spinner loading-sm"},null,-1)),p[2]||(p[2]=En(" Ładowanie… ",-1))])])):!h.isLoading&&h.suggestions.length===0?(K(),Z("li",ha,[Ke(h.$slots,"no-results",{query:T(r)},()=>[T(r)?(K(),Z("span",ga,'Brak wyników dla "'+me(T(r))+'"',1)):(K(),Z("span",ma,"Wprowadź min. "+me(h.minLengthQuery)+" znaki",1))])])):(K(!0),Z(ft,{key:2},pt(h.suggestions,(C,F)=>(K(),Z("li",{key:C.id||F,class:Yt(["list-row cursor-pointer transition-colors",T(i)===F?"bg-base-200":"hover:bg-base-200"]),onClick:R=>b(C),onMouseenter:R=>i.value=F},[Ke(h.$slots,"item",{highlighted:T(i)===F,index:F,item:C},()=>[En(me(C[h.labelKey]),1)])],42,va))),128))],8,fa)],4)):Ht("",!0)]))],2)}}}),ba=Object.assign(ya,{__name:"BaseAutocomplete"});var wa=Object.defineProperty,Kt=Object.getOwnPropertySymbols,Yo=Object.prototype.hasOwnProperty,zo=Object.prototype.propertyIsEnumerable,no=(e,t,n)=>t in e?wa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Je=(e,t)=>{for(var n in t||(t={}))Yo.call(t,n)&&no(e,n,t[n]);if(Kt)for(var n of Kt(t))zo.call(t,n)&&no(e,n,t[n]);return e},Uo=(e,t)=>{var n={};for(var o in e)Yo.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Kt)for(var o of Kt(e))t.indexOf(o)<0&&zo.call(e,o)&&(n[o]=e[o]);return n};const qo="[vue-draggable-plus]: ";function Sa(e){console.warn(qo+e)}function xa(e){console.error(qo+e)}function oo(e,t,n){return n>=0&&n<e.length&&e.splice(n,0,e.splice(t,1)[0]),e}function _a(e){return e.replace(/-(\w)/g,(t,n)=>n?n.toUpperCase():"")}function Ca(e){return Object.keys(e).reduce((t,n)=>(typeof e[n]<"u"&&(t[_a(n)]=e[n]),t),{})}function ro(e,t){return Array.isArray(e)&&e.splice(t,1),e}function io(e,t,n){return Array.isArray(e)&&e.splice(t,0,n),e}function Ea(e){return typeof e>"u"}function Da(e){return typeof e=="string"}function ao(e,t,n){const o=e.children[n];e.insertBefore(t,o)}function gn(e){e.parentNode&&e.parentNode.removeChild(e)}function Aa(e,t=document){var n;let o=null;return typeof t?.querySelector=="function"?o=(n=t?.querySelector)==null?void 0:n.call(t,e):o=document.querySelector(e),o||Sa(`Element not found: ${e}`),o}function Ta(e,t,n=null){return function(...o){return e.apply(n,o),t.apply(n,o)}}function Oa(e,t){const n=Je({},e);return Object.keys(t).forEach(o=>{n[o]?n[o]=Ta(e[o],t[o]):n[o]=t[o]}),n}function ka(e){return e instanceof HTMLElement}function lo(e,t){Object.keys(e).forEach(n=>{t(n,e[n])})}function Ia(e){return e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97)}const Pa=Object.assign;/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function so(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?so(Object(n),!0).forEach(function(o){Ma(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):so(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Vt(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vt=function(t){return typeof t}:Vt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(e)}function Ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(){return Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Pe.apply(this,arguments)}function Ra(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,a;for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function Na(e,t){if(e==null)return{};var n=Ra(e,t),o,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var La="1.15.2";function Ie(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Me=Ie(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),At=Ie(/Edge/i),co=Ie(/firefox/i),mt=Ie(/safari/i)&&!Ie(/chrome/i)&&!Ie(/android/i),Go=Ie(/iP(ad|od|hone)/i),Ko=Ie(/chrome/i)&&Ie(/android/i),Jo={capture:!1,passive:!1};function j(e,t,n){e.addEventListener(t,n,!Me&&Jo)}function $(e,t,n){e.removeEventListener(t,n,!Me&&Jo)}function Jt(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Fa(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function ve(e,t,n,o){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&Jt(e,t):Jt(e,t))||o&&e===n)return e;if(e===n)break}while(e=Fa(e))}return null}var uo=/\s+/g;function ce(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(uo," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(uo," ")}}function I(e,t,n){var o=e&&e.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in o)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),o[t]=n+(typeof n=="string"?"":"px")}}function nt(e,t){var n="";if(typeof e=="string")n=e;else do{var o=I(e,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function Qo(e,t,n){if(e){var o=e.getElementsByTagName(t),r=0,a=o.length;if(n)for(;r<a;r++)n(o[r],r);return o}return[]}function _e(){var e=document.scrollingElement;return e||document.documentElement}function ee(e,t,n,o,r){if(!(!e.getBoundingClientRect&&e!==window)){var a,i,s,l,c,u,d;if(e!==window&&e.parentNode&&e!==_e()?(a=e.getBoundingClientRect(),i=a.top,s=a.left,l=a.bottom,c=a.right,u=a.height,d=a.width):(i=0,s=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!Me))do if(r&&r.getBoundingClientRect&&(I(r,"transform")!=="none"||n&&I(r,"position")!=="static")){var y=r.getBoundingClientRect();i-=y.top+parseInt(I(r,"border-top-width")),s-=y.left+parseInt(I(r,"border-left-width")),l=i+a.height,c=s+a.width;break}while(r=r.parentNode);if(o&&e!==window){var f=nt(r||e),b=f&&f.a,v=f&&f.d;f&&(i/=v,s/=b,d/=b,u/=v,l=i+u,c=s+d)}return{top:i,left:s,bottom:l,right:c,width:d,height:u}}}function fo(e,t,n){for(var o=Le(e,!0),r=ee(e)[t];o;){var a=ee(o)[n],i=void 0;if(i=r>=a,!i)return o;if(o===_e())break;o=Le(o,!1)}return!1}function it(e,t,n,o){for(var r=0,a=0,i=e.children;a<i.length;){if(i[a].style.display!=="none"&&i[a]!==P.ghost&&(o||i[a]!==P.dragged)&&ve(i[a],n.draggable,e,!1)){if(r===t)return i[a];r++}a++}return null}function Vn(e,t){for(var n=e.lastElementChild;n&&(n===P.ghost||I(n,"display")==="none"||t&&!Jt(n,t));)n=n.previousElementSibling;return n||null}function he(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==P.clone&&(!t||Jt(e,t))&&n++;return n}function po(e){var t=0,n=0,o=_e();if(e)do{var r=nt(e),a=r.a,i=r.d;t+=e.scrollLeft*a,n+=e.scrollTop*i}while(e!==o&&(e=e.parentNode));return[t,n]}function Ba(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n)}return-1}function Le(e,t){if(!e||!e.getBoundingClientRect)return _e();var n=e,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=I(n);if(n.clientWidth<n.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return _e();if(o||t)return n;o=!0}}while(n=n.parentNode);return _e()}function Va(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function mn(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var vt;function Zo(e,t){return function(){if(!vt){var n=arguments,o=this;n.length===1?e.call(o,n[0]):e.apply(o,n),vt=setTimeout(function(){vt=void 0},t)}}}function $a(){clearTimeout(vt),vt=void 0}function er(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function tr(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function nr(e,t,n){var o={};return Array.from(e.children).forEach(function(r){var a,i,s,l;if(!(!ve(r,t.draggable,e,!1)||r.animated||r===n)){var c=ee(r);o.left=Math.min((a=o.left)!==null&&a!==void 0?a:1/0,c.left),o.top=Math.min((i=o.top)!==null&&i!==void 0?i:1/0,c.top),o.right=Math.max((s=o.right)!==null&&s!==void 0?s:-1/0,c.right),o.bottom=Math.max((l=o.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}var fe="Sortable"+new Date().getTime();function Wa(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(o){if(!(I(o,"display")==="none"||o===P.ghost)){e.push({target:o,rect:ee(o)});var r=Ee({},e[e.length-1].rect);if(o.thisAnimationDuration){var a=nt(o,!0);a&&(r.top-=a.f,r.left-=a.e)}o.fromRect=r}})}},addAnimationState:function(n){e.push(n)},removeAnimationState:function(n){e.splice(Ba(e,{target:n}),1)},animateAll:function(n){var o=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var r=!1,a=0;e.forEach(function(i){var s=0,l=i.target,c=l.fromRect,u=ee(l),d=l.prevFromRect,y=l.prevToRect,f=i.rect,b=nt(l,!0);b&&(u.top-=b.f,u.left-=b.e),l.toRect=u,l.thisAnimationDuration&&mn(d,u)&&!mn(c,u)&&(f.top-u.top)/(f.left-u.left)===(c.top-u.top)/(c.left-u.left)&&(s=Xa(f,d,y,o.options)),mn(u,c)||(l.prevFromRect=c,l.prevToRect=u,s||(s=o.options.animation),o.animate(l,f,u,s)),s&&(r=!0,a=Math.max(a,s),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},s),l.thisAnimationDuration=s)}),clearTimeout(t),r?t=setTimeout(function(){typeof n=="function"&&n()},a):typeof n=="function"&&n(),e=[]},animate:function(n,o,r,a){if(a){I(n,"transition",""),I(n,"transform","");var i=nt(this.el),s=i&&i.a,l=i&&i.d,c=(o.left-r.left)/(s||1),u=(o.top-r.top)/(l||1);n.animatingX=!!c,n.animatingY=!!u,I(n,"transform","translate3d("+c+"px,"+u+"px,0)"),this.forRepaintDummy=ja(n),I(n,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),I(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){I(n,"transition",""),I(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},a)}}}}function ja(e){return e.offsetWidth}function Xa(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}var Ue=[],vn={initializeByDefault:!0},Tt={mount:function(e){for(var t in vn)vn.hasOwnProperty(t)&&!(t in e)&&(e[t]=vn[t]);Ue.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ue.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var r=e+"Global";Ue.forEach(function(a){t[a.pluginName]&&(t[a.pluginName][r]&&t[a.pluginName][r](Ee({sortable:t},n)),t.options[a.pluginName]&&t[a.pluginName][e]&&t[a.pluginName][e](Ee({sortable:t},n)))})},initializePlugins:function(e,t,n,o){Ue.forEach(function(i){var s=i.pluginName;if(!(!e.options[s]&&!i.initializeByDefault)){var l=new i(e,t,e.options);l.sortable=e,l.options=e.options,e[s]=l,Pe(n,l.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var a=this.modifyOption(e,r,e.options[r]);typeof a<"u"&&(e.options[r]=a)}},getEventProperties:function(e,t){var n={};return Ue.forEach(function(o){typeof o.eventProperties=="function"&&Pe(n,o.eventProperties.call(t[o.pluginName],e))}),n},modifyOption:function(e,t,n){var o;return Ue.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[t]=="function"&&(o=r.optionListeners[t].call(e[r.pluginName],n))}),o}};function Ha(e){var t=e.sortable,n=e.rootEl,o=e.name,r=e.targetEl,a=e.cloneEl,i=e.toEl,s=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,y=e.originalEvent,f=e.putSortable,b=e.extraEventProperties;if(t=t||n&&n[fe],!!t){var v,m=t.options,g="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Me&&!At?v=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(o,!0,!0)),v.to=i||n,v.from=s||n,v.item=r||n,v.clone=a,v.oldIndex=l,v.newIndex=c,v.oldDraggableIndex=u,v.newDraggableIndex=d,v.originalEvent=y,v.pullMode=f?f.lastPutMode:void 0;var h=Ee(Ee({},b),Tt.getEventProperties(o,t));for(var p in h)v[p]=h[p];n&&n.dispatchEvent(v),m[g]&&m[g].call(t,v)}}var Ya=["evt"],le=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=n.evt,r=Na(n,Ya);Tt.pluginEvent.bind(P)(e,t,Ee({dragEl:w,parentEl:q,ghostEl:N,rootEl:z,nextEl:je,lastDownEl:$t,cloneEl:U,cloneHidden:Ne,dragStarted:ct,putSortable:oe,activeSortable:P.active,originalEvent:o,oldIndex:Qe,oldDraggableIndex:yt,newIndex:ue,newDraggableIndex:Re,hideGhostForTarget:ar,unhideGhostForTarget:lr,cloneNowHidden:function(){Ne=!0},cloneNowShown:function(){Ne=!1},dispatchSortableEvent:function(a){ae({sortable:t,name:a,originalEvent:o})}},r))};function ae(e){Ha(Ee({putSortable:oe,cloneEl:U,targetEl:w,rootEl:z,oldIndex:Qe,oldDraggableIndex:yt,newIndex:ue,newDraggableIndex:Re},e))}var w,q,N,z,je,$t,U,Ne,Qe,ue,yt,Re,Rt,oe,Ge=!1,Qt=!1,Zt=[],$e,ge,yn,bn,ho,go,ct,qe,bt,wt=!1,Nt=!1,Wt,re,wn=[],On=!1,en=[],un=typeof document<"u",Lt=Go,mo=At||Me?"cssFloat":"float",za=un&&!Ko&&!Go&&"draggable"in document.createElement("div"),or=function(){if(un){if(Me)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),rr=function(e,t){var n=I(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=it(e,0,t),a=it(e,1,t),i=r&&I(r),s=a&&I(a),l=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+ee(r).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+ee(a).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&i.float&&i.float!=="none"){var u=i.float==="left"?"left":"right";return a&&(s.clear==="both"||s.clear===u)?"vertical":"horizontal"}return r&&(i.display==="block"||i.display==="flex"||i.display==="table"||i.display==="grid"||l>=o&&n[mo]==="none"||a&&n[mo]==="none"&&l+c>o)?"vertical":"horizontal"},Ua=function(e,t,n){var o=n?e.left:e.top,r=n?e.right:e.bottom,a=n?e.width:e.height,i=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return o===i||r===s||o+a/2===i+l/2},qa=function(e,t){var n;return Zt.some(function(o){var r=o[fe].options.emptyInsertThreshold;if(!(!r||Vn(o))){var a=ee(o),i=e>=a.left-r&&e<=a.right+r,s=t>=a.top-r&&t<=a.bottom+r;if(i&&s)return n=o}}),n},ir=function(e){function t(r,a){return function(i,s,l,c){var u=i.options.group.name&&s.options.group.name&&i.options.group.name===s.options.group.name;if(r==null&&(a||u))return!0;if(r==null||r===!1)return!1;if(a&&r==="clone")return r;if(typeof r=="function")return t(r(i,s,l,c),a)(i,s,l,c);var d=(a?i:s).options.group.name;return r===!0||typeof r=="string"&&r===d||r.join&&r.indexOf(d)>-1}}var n={},o=e.group;(!o||Vt(o)!="object")&&(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},ar=function(){!or&&N&&I(N,"display","none")},lr=function(){!or&&N&&I(N,"display","")};un&&!Ko&&document.addEventListener("click",function(e){if(Qt)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Qt=!1,!1},!0);var We=function(e){if(w){e=e.touches?e.touches[0]:e;var t=qa(e.clientX,e.clientY);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[fe]._onDragOver(n)}}},Ga=function(e){w&&w.parentNode[fe]._isOutsideThisEl(e.target)};function P(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Pe({},t),e[fe]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return rr(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,i){a.setData("Text",i.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:P.supportPointer!==!1&&"PointerEvent"in window&&!mt,emptyInsertThreshold:5};Tt.initializePlugins(this,e,n);for(var o in n)!(o in t)&&(t[o]=n[o]);ir(t);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=t.forceFallback?!1:za,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?j(e,"pointerdown",this._onTapStart):(j(e,"mousedown",this._onTapStart),j(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(j(e,"dragover",this),j(e,"dragenter",this)),Zt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Pe(this,Wa())}P.prototype={constructor:P,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(qe=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,w):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,r=o.preventOnFilter,a=e.type,i=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,s=(i||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=o.filter;if(ol(n),!w&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||o.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&mt&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=ve(s,o.draggable,n,!1),!(s&&s.animated)&&$t!==s)){if(Qe=he(s),yt=he(s,o.draggable),typeof c=="function"){if(c.call(this,e,s,this)){ae({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),le("filter",t,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(u){if(u=ve(l,u.trim(),n,!1),u)return ae({sortable:t,rootEl:u,name:"filter",targetEl:s,fromEl:n,toEl:n}),le("filter",t,{evt:e}),!0}),c)){r&&e.cancelable&&e.preventDefault();return}o.handle&&!ve(l,o.handle,n,!1)||this._prepareDragStart(e,i,s)}}},_prepareDragStart:function(e,t,n){var o=this,r=o.el,a=o.options,i=r.ownerDocument,s;if(n&&!w&&n.parentNode===r){var l=ee(n);if(z=r,w=n,q=w.parentNode,je=w.nextSibling,$t=n,Rt=a.group,P.dragged=w,$e={target:w,clientX:(t||e).clientX,clientY:(t||e).clientY},ho=$e.clientX-l.left,go=$e.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,w.style["will-change"]="all",s=function(){if(le("delayEnded",o,{evt:e}),P.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!co&&o.nativeDraggable&&(w.draggable=!0),o._triggerDragStart(e,t),ae({sortable:o,name:"choose",originalEvent:e}),ce(w,a.chosenClass,!0)},a.ignore.split(",").forEach(function(c){Qo(w,c.trim(),Sn)}),j(i,"dragover",We),j(i,"mousemove",We),j(i,"touchmove",We),j(i,"mouseup",o._onDrop),j(i,"touchend",o._onDrop),j(i,"touchcancel",o._onDrop),co&&this.nativeDraggable&&(this.options.touchStartThreshold=4,w.draggable=!0),le("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(At||Me))){if(P.eventCanceled){this._onDrop();return}j(i,"mouseup",o._disableDelayedDrag),j(i,"touchend",o._disableDelayedDrag),j(i,"touchcancel",o._disableDelayedDrag),j(i,"mousemove",o._delayedDragTouchMoveHandler),j(i,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&j(i,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(s,a.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){w&&Sn(w),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;$(e,"mouseup",this._disableDelayedDrag),$(e,"touchend",this._disableDelayedDrag),$(e,"touchcancel",this._disableDelayedDrag),$(e,"mousemove",this._delayedDragTouchMoveHandler),$(e,"touchmove",this._delayedDragTouchMoveHandler),$(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?j(document,"pointermove",this._onTouchMove):t?j(document,"touchmove",this._onTouchMove):j(document,"mousemove",this._onTouchMove):(j(w,"dragend",this),j(z,"dragstart",this._onDragStart));try{document.selection?jt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Ge=!1,z&&w){le("dragStarted",this,{evt:t}),this.nativeDraggable&&j(document,"dragover",Ga);var n=this.options;!e&&ce(w,n.dragClass,!1),ce(w,n.ghostClass,!0),P.active=this,e&&this._appendGhost(),ae({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ge){this._lastX=ge.clientX,this._lastY=ge.clientY,ar();for(var e=document.elementFromPoint(ge.clientX,ge.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ge.clientX,ge.clientY),e!==t);)t=e;if(w.parentNode[fe]._isOutsideThisEl(e),t)do{if(t[fe]){var n=void 0;if(n=t[fe]._onDragOver({clientX:ge.clientX,clientY:ge.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);lr()}},_onTouchMove:function(e){if($e){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,r=e.touches?e.touches[0]:e,a=N&&nt(N,!0),i=N&&a&&a.a,s=N&&a&&a.d,l=Lt&&re&&po(re),c=(r.clientX-$e.clientX+o.x)/(i||1)+(l?l[0]-wn[0]:0)/(i||1),u=(r.clientY-$e.clientY+o.y)/(s||1)+(l?l[1]-wn[1]:0)/(s||1);if(!P.active&&!Ge){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(N){a?(a.e+=c-(yn||0),a.f+=u-(bn||0)):a={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");I(N,"webkitTransform",d),I(N,"mozTransform",d),I(N,"msTransform",d),I(N,"transform",d),yn=c,bn=u,ge=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!N){var e=this.options.fallbackOnBody?document.body:z,t=ee(w,!0,Lt,!0,e),n=this.options;if(Lt){for(re=e;I(re,"position")==="static"&&I(re,"transform")==="none"&&re!==document;)re=re.parentNode;re!==document.body&&re!==document.documentElement?(re===document&&(re=_e()),t.top+=re.scrollTop,t.left+=re.scrollLeft):re=_e(),wn=po(re)}N=w.cloneNode(!0),ce(N,n.ghostClass,!1),ce(N,n.fallbackClass,!0),ce(N,n.dragClass,!0),I(N,"transition",""),I(N,"transform",""),I(N,"box-sizing","border-box"),I(N,"margin",0),I(N,"top",t.top),I(N,"left",t.left),I(N,"width",t.width),I(N,"height",t.height),I(N,"opacity","0.8"),I(N,"position",Lt?"absolute":"fixed"),I(N,"zIndex","100000"),I(N,"pointerEvents","none"),P.ghost=N,e.appendChild(N),I(N,"transform-origin",ho/parseInt(N.style.width)*100+"% "+go/parseInt(N.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,r=n.options;if(le("dragStart",this,{evt:e}),P.eventCanceled){this._onDrop();return}le("setupClone",this),P.eventCanceled||(U=tr(w),U.removeAttribute("id"),U.draggable=!1,U.style["will-change"]="",this._hideClone(),ce(U,this.options.chosenClass,!1),P.clone=U),n.cloneId=jt(function(){le("clone",n),!P.eventCanceled&&(n.options.removeCloneOnHide||z.insertBefore(U,w),n._hideClone(),ae({sortable:n,name:"clone"}))}),!t&&ce(w,r.dragClass,!0),t?(Qt=!0,n._loopId=setInterval(n._emulateDragOver,50)):($(document,"mouseup",n._onDrop),$(document,"touchend",n._onDrop),$(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(n,o,w)),j(document,"drop",n),I(w,"transform","translateZ(0)")),Ge=!0,n._dragStartId=jt(n._dragStarted.bind(n,t,e)),j(document,"selectstart",n),ct=!0,mt&&I(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,o,r,a,i=this.options,s=i.group,l=P.active,c=Rt===s,u=i.sort,d=oe||l,y,f=this,b=!1;if(On)return;function v(W,X){le(W,f,Ee({evt:e,isOwner:c,axis:y?"vertical":"horizontal",revert:a,dragRect:o,targetRect:r,canSort:u,fromSortable:d,target:n,completed:g,onMove:function(te,at){return Ft(z,t,w,o,te,ee(te),e,at)},changed:h},X))}function m(){v("dragOverAnimationCapture"),f.captureAnimationState(),f!==d&&d.captureAnimationState()}function g(W){return v("dragOverCompleted",{insertion:W}),W&&(c?l._hideClone():l._showClone(f),f!==d&&(ce(w,oe?oe.options.ghostClass:l.options.ghostClass,!1),ce(w,i.ghostClass,!0)),oe!==f&&f!==P.active?oe=f:f===P.active&&oe&&(oe=null),d===f&&(f._ignoreWhileAnimating=n),f.animateAll(function(){v("dragOverAnimationComplete"),f._ignoreWhileAnimating=null}),f!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(n===w&&!w.animated||n===t&&!n.animated)&&(qe=null),!i.dragoverBubble&&!e.rootEl&&n!==document&&(w.parentNode[fe]._isOutsideThisEl(e.target),!W&&We(e)),!i.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),b=!0}function h(){ue=he(w),Re=he(w,i.draggable),ae({sortable:f,name:"change",toEl:t,newIndex:ue,newDraggableIndex:Re,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=ve(n,i.draggable,t,!0),v("dragOver"),P.eventCanceled)return b;if(w.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||f._ignoreWhileAnimating===n)return g(!1);if(Qt=!1,l&&!i.disabled&&(c?u||(a=q!==z):oe===this||(this.lastPutMode=Rt.checkPull(this,l,w,e))&&s.checkPut(this,l,w,e))){if(y=this._getDirection(e,n)==="vertical",o=ee(w),v("dragOverValid"),P.eventCanceled)return b;if(a)return q=z,m(),this._hideClone(),v("revert"),P.eventCanceled||(je?z.insertBefore(w,je):z.appendChild(w)),g(!0);var p=Vn(t,i.draggable);if(!p||Za(e,y,this)&&!p.animated){if(p===w)return g(!1);if(p&&t===e.target&&(n=p),n&&(r=ee(n)),Ft(z,t,w,o,n,r,e,!!n)!==!1)return m(),p&&p.nextSibling?t.insertBefore(w,p.nextSibling):t.appendChild(w),q=t,h(),g(!0)}else if(p&&Qa(e,y,this)){var E=it(t,0,i,!0);if(E===w)return g(!1);if(n=E,r=ee(n),Ft(z,t,w,o,n,r,e,!1)!==!1)return m(),t.insertBefore(w,E),q=t,h(),g(!0)}else if(n.parentNode===t){r=ee(n);var C=0,F,R=w.parentNode!==t,_=!Ua(w.animated&&w.toRect||o,n.animated&&n.toRect||r,y),A=y?"top":"left",V=fo(n,"top","top")||fo(w,"top","top"),D=V?V.scrollTop:void 0;qe!==n&&(F=r[A],wt=!1,Nt=!_&&i.invertSwap||R),C=el(e,n,r,y,_?1:i.swapThreshold,i.invertedSwapThreshold==null?i.swapThreshold:i.invertedSwapThreshold,Nt,qe===n);var S;if(C!==0){var O=he(w);do O-=C,S=q.children[O];while(S&&(I(S,"display")==="none"||S===N))}if(C===0||S===n)return g(!1);qe=n,bt=C;var x=n.nextElementSibling,k=!1;k=C===1;var B=Ft(z,t,w,o,n,r,e,k);if(B!==!1)return(B===1||B===-1)&&(k=B===1),On=!0,setTimeout(Ja,30),m(),k&&!x?t.appendChild(w):n.parentNode.insertBefore(w,k?x:n),V&&er(V,0,D-V.scrollTop),q=w.parentNode,F!==void 0&&!Nt&&(Wt=Math.abs(F-ee(n)[A])),h(),g(!0)}if(t.contains(w))return g(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){$(document,"mousemove",this._onTouchMove),$(document,"touchmove",this._onTouchMove),$(document,"pointermove",this._onTouchMove),$(document,"dragover",We),$(document,"mousemove",We),$(document,"touchmove",We)},_offUpEvents:function(){var e=this.el.ownerDocument;$(e,"mouseup",this._onDrop),$(e,"touchend",this._onDrop),$(e,"pointerup",this._onDrop),$(e,"touchcancel",this._onDrop),$(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(ue=he(w),Re=he(w,n.draggable),le("drop",this,{evt:e}),q=w&&w.parentNode,ue=he(w),Re=he(w,n.draggable),P.eventCanceled){this._nulling();return}Ge=!1,Nt=!1,wt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),kn(this.cloneId),kn(this._dragStartId),this.nativeDraggable&&($(document,"drop",this),$(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),mt&&I(document.body,"user-select",""),I(w,"transform",""),e&&(ct&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),N&&N.parentNode&&N.parentNode.removeChild(N),(z===q||oe&&oe.lastPutMode!=="clone")&&U&&U.parentNode&&U.parentNode.removeChild(U),w&&(this.nativeDraggable&&$(w,"dragend",this),Sn(w),w.style["will-change"]="",ct&&!Ge&&ce(w,oe?oe.options.ghostClass:this.options.ghostClass,!1),ce(w,this.options.chosenClass,!1),ae({sortable:this,name:"unchoose",toEl:q,newIndex:null,newDraggableIndex:null,originalEvent:e}),z!==q?(ue>=0&&(ae({rootEl:q,name:"add",toEl:q,fromEl:z,originalEvent:e}),ae({sortable:this,name:"remove",toEl:q,originalEvent:e}),ae({rootEl:q,name:"sort",toEl:q,fromEl:z,originalEvent:e}),ae({sortable:this,name:"sort",toEl:q,originalEvent:e})),oe&&oe.save()):ue!==Qe&&ue>=0&&(ae({sortable:this,name:"update",toEl:q,originalEvent:e}),ae({sortable:this,name:"sort",toEl:q,originalEvent:e})),P.active&&((ue==null||ue===-1)&&(ue=Qe,Re=yt),ae({sortable:this,name:"end",toEl:q,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){le("nulling",this),z=w=q=N=je=U=$t=Ne=$e=ge=ct=ue=Re=Qe=yt=qe=bt=oe=Rt=P.dragged=P.ghost=P.clone=P.active=null,en.forEach(function(e){e.checked=!0}),en.length=yn=bn=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":w&&(this._onDragOver(e),Ka(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,o=0,r=n.length,a=this.options;o<r;o++)t=n[o],ve(t,a.draggable,this.el,!1)&&e.push(t.getAttribute(a.dataIdAttr)||nl(t));return e},sort:function(e,t){var n={},o=this.el;this.toArray().forEach(function(r,a){var i=o.children[a];ve(i,this.options.draggable,o,!1)&&(n[r]=i)},this),t&&this.captureAnimationState(),e.forEach(function(r){n[r]&&(o.removeChild(n[r]),o.appendChild(n[r]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ve(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var o=Tt.modifyOption(this,e,t);typeof o<"u"?n[e]=o:n[e]=t,e==="group"&&ir(n)},destroy:function(){le("destroy",this);var e=this.el;e[fe]=null,$(e,"mousedown",this._onTapStart),$(e,"touchstart",this._onTapStart),$(e,"pointerdown",this._onTapStart),this.nativeDraggable&&($(e,"dragover",this),$(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Zt.splice(Zt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ne){if(le("hideClone",this),P.eventCanceled)return;I(U,"display","none"),this.options.removeCloneOnHide&&U.parentNode&&U.parentNode.removeChild(U),Ne=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ne){if(le("showClone",this),P.eventCanceled)return;w.parentNode==z&&!this.options.group.revertClone?z.insertBefore(U,w):je?z.insertBefore(U,je):z.appendChild(U),this.options.group.revertClone&&this.animate(w,U),I(U,"display",""),Ne=!1}}};function Ka(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Ft(e,t,n,o,r,a,i,s){var l,c=e[fe],u=c.options.onMove,d;return window.CustomEvent&&!Me&&!At?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=n,l.draggedRect=o,l.related=r||t,l.relatedRect=a||ee(t),l.willInsertAfter=s,l.originalEvent=i,e.dispatchEvent(l),u&&(d=u.call(c,l,i)),d}function Sn(e){e.draggable=!1}function Ja(){On=!1}function Qa(e,t,n){var o=ee(it(n.el,0,n.options,!0)),r=nr(n.el,n.options,N),a=10;return t?e.clientX<r.left-a||e.clientY<o.top&&e.clientX<o.right:e.clientY<r.top-a||e.clientY<o.bottom&&e.clientX<o.left}function Za(e,t,n){var o=ee(Vn(n.el,n.options.draggable)),r=nr(n.el,n.options,N),a=10;return t?e.clientX>r.right+a||e.clientY>o.bottom&&e.clientX>o.left:e.clientY>r.bottom+a||e.clientX>o.right&&e.clientY>o.top}function el(e,t,n,o,r,a,i,s){var l=o?e.clientY:e.clientX,c=o?n.height:n.width,u=o?n.top:n.left,d=o?n.bottom:n.right,y=!1;if(!i){if(s&&Wt<c*r){if(!wt&&(bt===1?l>u+c*a/2:l<d-c*a/2)&&(wt=!0),wt)y=!0;else if(bt===1?l<u+Wt:l>d-Wt)return-bt}else if(l>u+c*(1-r)/2&&l<d-c*(1-r)/2)return tl(t)}return y=y||i,y&&(l<u+c*a/2||l>d-c*a/2)?l>u+c/2?1:-1:0}function tl(e){return he(w)<he(e)?1:-1}function nl(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function ol(e){en.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&en.push(o)}}function jt(e){return setTimeout(e,0)}function kn(e){return clearTimeout(e)}un&&j(document,"touchmove",function(e){(P.active||Ge)&&e.cancelable&&e.preventDefault()});P.utils={on:j,off:$,css:I,find:Qo,is:function(e,t){return!!ve(e,t,e,!1)},extend:Va,throttle:Zo,closest:ve,toggleClass:ce,clone:tr,index:he,nextTick:jt,cancelNextTick:kn,detectDirection:rr,getChild:it};P.get=function(e){return e[fe]};P.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(P.utils=Ee(Ee({},P.utils),o.utils)),Tt.mount(o)})};P.create=function(e,t){return new P(e,t)};P.version=La;var Q=[],ut,In,Pn=!1,xn,_n,tn,dt;function rl(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?j(document,"dragover",this._handleAutoScroll):this.options.supportPointer?j(document,"pointermove",this._handleFallbackAutoScroll):n.touches?j(document,"touchmove",this._handleFallbackAutoScroll):j(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?$(document,"dragover",this._handleAutoScroll):($(document,"pointermove",this._handleFallbackAutoScroll),$(document,"touchmove",this._handleFallbackAutoScroll),$(document,"mousemove",this._handleFallbackAutoScroll)),vo(),Xt(),$a()},nulling:function(){tn=In=ut=Pn=dt=xn=_n=null,Q.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var o=this,r=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,i=document.elementFromPoint(r,a);if(tn=t,n||this.options.forceAutoScrollFallback||At||Me||mt){Cn(t,this.options,i,n);var s=Le(i,!0);Pn&&(!dt||r!==xn||a!==_n)&&(dt&&vo(),dt=setInterval(function(){var l=Le(document.elementFromPoint(r,a),!0);l!==s&&(s=l,Xt()),Cn(t,o.options,l,n)},10),xn=r,_n=a)}else{if(!this.options.bubbleScroll||Le(i,!0)===_e()){Xt();return}Cn(t,this.options,Le(i,!1),!1)}}},Pe(e,{pluginName:"scroll",initializeByDefault:!0})}function Xt(){Q.forEach(function(e){clearInterval(e.pid)}),Q=[]}function vo(){clearInterval(dt)}var Cn=Zo(function(e,t,n,o){if(t.scroll){var r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,i=t.scrollSensitivity,s=t.scrollSpeed,l=_e(),c=!1,u;In!==n&&(In=n,Xt(),ut=t.scroll,u=t.scrollFn,ut===!0&&(ut=Le(n,!0)));var d=0,y=ut;do{var f=y,b=ee(f),v=b.top,m=b.bottom,g=b.left,h=b.right,p=b.width,E=b.height,C=void 0,F=void 0,R=f.scrollWidth,_=f.scrollHeight,A=I(f),V=f.scrollLeft,D=f.scrollTop;f===l?(C=p<R&&(A.overflowX==="auto"||A.overflowX==="scroll"||A.overflowX==="visible"),F=E<_&&(A.overflowY==="auto"||A.overflowY==="scroll"||A.overflowY==="visible")):(C=p<R&&(A.overflowX==="auto"||A.overflowX==="scroll"),F=E<_&&(A.overflowY==="auto"||A.overflowY==="scroll"));var S=C&&(Math.abs(h-r)<=i&&V+p<R)-(Math.abs(g-r)<=i&&!!V),O=F&&(Math.abs(m-a)<=i&&D+E<_)-(Math.abs(v-a)<=i&&!!D);if(!Q[d])for(var x=0;x<=d;x++)Q[x]||(Q[x]={});(Q[d].vx!=S||Q[d].vy!=O||Q[d].el!==f)&&(Q[d].el=f,Q[d].vx=S,Q[d].vy=O,clearInterval(Q[d].pid),(S!=0||O!=0)&&(c=!0,Q[d].pid=setInterval((function(){o&&this.layer===0&&P.active._onTouchMove(tn);var k=Q[this.layer].vy?Q[this.layer].vy*s:0,B=Q[this.layer].vx?Q[this.layer].vx*s:0;typeof u=="function"&&u.call(P.dragged.parentNode[fe],B,k,e,tn,Q[this.layer].el)!=="continue"||er(Q[this.layer].el,B,k)}).bind({layer:d}),24))),d++}while(t.bubbleScroll&&y!==l&&(y=Le(y,!1)));Pn=c}},30),sr=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,r=e.activeSortable,a=e.dispatchSortableEvent,i=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||r;i();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(a("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function $n(){}$n.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=it(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:sr};Pe($n,{pluginName:"revertOnSpill"});function Wn(){}Wn.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,o=n||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:sr};Pe(Wn,{pluginName:"removeOnSpill"});P.mount(new rl);P.mount(Wn,$n);function il(e){return e==null?e:JSON.parse(JSON.stringify(e))}function al(e){on()&&Oo(e)}function ll(e){on()?St(e):nn(e)}let cr=null,ur=null;function yo(e=null,t=null){cr=e,ur=t}function sl(){return{data:cr,clonedData:ur}}const bo=Symbol("cloneElement");function cl(...e){var t,n;const o=(t=on())==null?void 0:t.proxy;let r=null;const a=e[0];let[,i,s]=e;Array.isArray(T(i))||(s=i,i=null);let l=null;const{immediate:c=!0,clone:u=il,customUpdate:d}=(n=T(s))!=null?n:{};function y(_){var A;const{from:V,oldIndex:D,item:S}=_;r=Array.from(V.childNodes);const O=T((A=T(i))==null?void 0:A[D]),x=u(O);yo(O,x),S[bo]=x}function f(_){const A=_.item[bo];if(!Ea(A)){if(gn(_.item),et(i)){const V=[...T(i)];i.value=io(V,_.newDraggableIndex,A);return}io(T(i),_.newDraggableIndex,A)}}function b(_){const{from:A,item:V,oldIndex:D,oldDraggableIndex:S,pullMode:O,clone:x}=_;if(ao(A,V,D),O==="clone"){gn(x);return}if(et(i)){const k=[...T(i)];i.value=ro(k,S);return}ro(T(i),S)}function v(_){if(d){d(_);return}const{from:A,item:V,oldIndex:D,oldDraggableIndex:S,newDraggableIndex:O}=_;if(gn(V),ao(A,V,D),et(i)){const x=[...T(i)];i.value=oo(x,S,O);return}oo(T(i),S,O)}function m(_){const{newIndex:A,oldIndex:V,from:D,to:S}=_;let O=null;const x=A===V&&D===S;try{if(x){let k=null;r?.some((B,W)=>{if(k&&r?.length!==S.childNodes.length)return D.insertBefore(k,B.nextSibling),!0;const X=S.childNodes[W];k=S?.replaceChild(B,X)})}}catch(k){O=k}finally{r=null}nn(()=>{if(yo(),O)throw O})}const g={onUpdate:v,onStart:y,onAdd:f,onRemove:b,onEnd:m};function h(_){const A=T(a);return _||(_=Da(A)?Aa(A,o?.$el):A),_&&!ka(_)&&(_=_.$el),_||xa("Root element not found"),_}function p(){var _;const A=(_=T(s))!=null?_:{},{immediate:V,clone:D}=A,S=Uo(A,["immediate","clone"]);return lo(S,(O,x)=>{Ia(O)&&(S[O]=(k,...B)=>{const W=sl();return Pa(k,W),x(k,...B)})}),Oa(i===null?{}:g,S)}const E=_=>{_=h(_),l&&C.destroy(),l=new P(_,p())};ke(()=>s,()=>{l&&lo(p(),(_,A)=>{l?.option(_,A)})},{deep:!0});const C={option:(_,A)=>l?.option(_,A),destroy:()=>{l?.destroy(),l=null},save:()=>l?.save(),toArray:()=>l?.toArray(),closest:(..._)=>l?.closest(..._)},F=()=>C?.option("disabled",!0),R=()=>C?.option("disabled",!1);return ll(()=>{c&&E()}),al(C.destroy),Je({start:E,pause:F,resume:R},C)}const Mn=["update","start","add","remove","choose","unchoose","end","sort","filter","clone","move","change"],ul=["clone","animation","ghostClass","group","sort","disabled","store","handle","draggable","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","chosenClass","dragClass","ignore","filter","preventOnFilter","easing","setData","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","emptyInsertThreshold","scroll","forceAutoScrollFallback","scrollSensitivity","scrollSpeed","bubbleScroll","modelValue","tag","target","customUpdate",...Mn.map(e=>`on${e.replace(/^\S/,t=>t.toUpperCase())}`)],dl=rn({name:"VueDraggable",model:{prop:"modelValue",event:"update:modelValue"},props:ul,emits:["update:modelValue",...Mn],setup(e,{slots:t,emit:n,expose:o,attrs:r}){const a=Mn.reduce((u,d)=>{const y=`on${d.replace(/^\S/,f=>f.toUpperCase())}`;return u[y]=(...f)=>n(d,...f),u},{}),i=J(()=>{const u=Er(e),{modelValue:d}=u,y=Uo(u,["modelValue"]),f=Object.entries(y).reduce((b,[v,m])=>{const g=T(m);return g!==void 0&&(b[v]=g),b},{});return Je(Je({},a),Ca(Je(Je({},r),f)))}),s=J({get:()=>e.modelValue,set:u=>n("update:modelValue",u)}),l=Y(),c=Dn(cl(e.target||l,s,i));return o(c),()=>{var u;return Dr(e.tag||"div",{ref:l},(u=t?.default)==null?void 0:u.call(t,c))}}}),fl={key:1,class:"list-row"},pl=rn({__name:"DraggableList",props:{items:{},itemProps:{type:Function}},emits:["update","start","add","remove","choose","unchoose","end","sort","filter","clone","move","change"],setup(e,{emit:t}){const n=e,o=Ar(),r=Y([...n.items]);ke(()=>n.items,p=>{r.value=[...p]},{deep:!0});const a=J(()=>{const{items:p,itemProps:E,...C}=n??{};return C}),i=t;function s(p){i("update",p)}function l(p){i("start",p)}function c(p){i("add",p)}function u(p){i("remove",p)}function d(p){i("choose",p)}function y(p){i("unchoose",p)}function f(p){i("end",p)}function b(p){i("sort",p)}function v(p){i("filter",p)}function m(p){i("clone",p)}function g(p,E){i("move",p,E)}function h(p){i("change",p)}return(p,E)=>(K(),Do(T(dl),Ze({modelValue:T(r),"onUpdate:modelValue":E[0]||(E[0]=C=>et(r)?r.value=C:null)},T(a),{onUpdate:s,onStart:l,onAdd:c,onRemove:u,onChoose:d,onUnchoose:y,onEnd:f,onSort:b,onFilter:v,onClone:m,onMove:g,onChange:h,target:".transition-group"}),{default:Se(()=>[ne(Tr,{type:"transition",tag:"ul",name:"fade",class:"transition-group list"},{default:Se(()=>[T(r)?.length?(K(!0),Z(ft,{key:0},pt(T(r),C=>(K(),Z("li",Ze({class:"list-row"},{ref_for:!0},n.itemProps?.(C),{key:C.id}),[Ke(p.$slots,"item",{item:C},void 0,!0)],16))),128)):Ht("",!0),!T(r)?.length&&o.empty?(K(),Z("li",fl,[Ke(p.$slots,"empty",{},void 0,!0)])):Ht("",!0)]),_:3})]),_:3},16,["modelValue","onUpdate","onStart","onAdd","onRemove","onChoose","onUnchoose","onEnd","onSort","onFilter","onClone","onChange"]))}}),hl=Object.assign(Or(pl,[["__scopeId","data-v-64ab9c5a"]]),{__name:"DraggableList"});function dr(e){const t=Array.isArray(e)?e[0]:e;if(t==null)throw new Error(`Invalid parameter. It should be a string or number. Actual value: ${t}`);return t}async function gl(e,t){const n=Eo(e),o=J(()=>wo(se(n))),r=J(()=>Vr(se(o))),a=Y(!1),i=Y(null),s=Y(new Map),{data:l}=$r("categories"),{data:c,pending:u,error:d,refresh:y}=ko(`shoppingListDetails:${o.value}`,async()=>{const D=await we.getShoppingListAsync(o.value);return Ve(D)},{getCachedData(D){const S=kr(),O=S.payload.data[D]||S.static.data[D];if(!O)return;const x=new Date(O.fetchedAt);if(x.setTime(x.getTime()+300*1e3),new Date<x)return O},server:!1,...t}),{listToSync:f,getItem:b,upsertItem:v,deleteItem:m,releaseAction:g,isActionBlocked:h,blockAction:p}=Wr(c),E=J(()=>f.value&&l.value?zt(Br(f.value,l.value)):[]);async function C(D){try{const S=zt(D);if(S.record&&S.record.shoppingListId!==o.value)return;const O=jr(S);if(h(S.record?.id??S.oldRecord?.id??-1,O))return;switch(O){case"insert":{const k=we.getShoppingListProductAsync(S.record.id);if(!l.value)throw new Error("Categories not found");const B=l.value?.find(te=>te.id===S.record?.categoryId)??l.value?.[0];if(!B)throw new Error("Category not found");v({id:S.record.id,createdAt:new Date().toISOString(),quantity:S.record.quantity,unit:ht.GRAM,name:"Ładowanie...",inCart:S.record.inCart,category:B});const W=await k,X=Ve(W);v(X);break}case"update":{const k=we.getShoppingListProductAsync(S.record.id);if(!l.value)throw new Error("Categories not found");if(!(l.value?.find(te=>te.id===S.record?.categoryId)??l.value?.[0]))throw new Error("Category not found");v(S.record);const W=await k,X=Ve(W);v(X);break}case"delete":{m(S.oldRecord.id);break}default:throw new Error("Invalid payload")}}catch(S){console.error(S)}}async function F(){return s.value.has(r.value)&&s.value.get(r.value)&&we.unsubscribe(s.value.get(r.value)),s.value.set(r.value,we.listenForShoppingListChanges(o.value,C)),s.value.get(r.value)}async function R(D){if(!f.value)throw new Error("Shopping list not found");const S=b(D);if(!S.item)throw new Error("Product not found");a.value=!0,p(D,"update"),v({id:S.item.id,inCart:S.item.inCart},S.index,!0),we.toggleProductInCartAsync(BigInt(D)).then(O=>{const x=Ve(O);v(x,S.index,!0)}).catch(O=>{v(S.item,S.index,!0),console.error(O)}).finally(()=>{a.value=!1,g(D,"update")})}async function _(D,S,O,x){if(a.value)return;if(D.name.trim()==="")throw new Error("Nazwa powinna być wypełniona");a.value=!0;const B=new Date().valueOf()*2;p(B,"insert"),we.addToShoppingListAsync(wo(D.listId),ht.valueOf(D.unit.name),D.quantity,D.name,D.categoryId).then(W=>{const X=Ve(W);S?.(X)}).catch(W=>{console.error(W),O?.(W)}).finally(()=>{a.value=!1,g(B,"insert"),x?.()})}async function A(D){a.value=!0,p(D,"delete"),we.deleteFromShoppingListAsync(BigInt(D)).then(S=>{const O=Ve(S);m(O.id)}).catch(S=>{console.error(S)}).finally(()=>{a.value=!1,g(D,"delete")})}async function V(D,S){a.value=!0,p(D,"update"),v({id:D,category:S}),we.updateInShoppingListAsync(D,o.value,null,null,null,S.id).then(O=>{Ve(O)}).catch(O=>{console.error(O)}).finally(()=>{a.value=!1,g(D,"update")})}return St(()=>{se(t?.useAutoListenFor)?.includes("shoppingListChanges")&&F()}),Oo(()=>{try{s.value.forEach(D=>{we.unsubscribe(D)})}catch(D){console.error(D)}}),{shoppingListDetails:Xe(f),loading:Xe(J(()=>u.value||a.value)),error:Xe(J(()=>d.value||i.value)),refresh:y,listenForShoppingListChanges:F,toggleInCart:R,addToShoppingList:_,switchProductCategory:V,deleteProductFromShoppingList:A,categoriesWithProducts:E}}function wo(e){const t=dr(e),n=parseInt(t,10);if(Number.isNaN(n))throw new Error(`Invalid list ID. Is not a number. Actual value: ${t}`);return BigInt(n)}const ml={class:"card flex flex-col max-w-xl m-auto max-h-screen"},vl={class:"card-body bg-base-100 rounded-box shadow-md w-full overflow-y-auto"},yl={class:"grid items-center gap-2 grid-cols-[45px_1rem_auto_45px] text-base"},bl={class:"justify-self-end"},wl={class:"btn btn-ghost btn-circle"},Sl={class:"list-col-grow"},xl={class:"badge badge-ghost badge-sm"},_l=["value"],Cl=["aria-controls","value","onClick","onInput","onKeydown"],El={class:"list category-lists"},Dl={class:"list-col-grow"},Al=["onClick"],Tl={key:1,class:"list-row"},Ol={key:0,class:"flex flex-col gap-1"},kl={class:"text-error"},So=150,Il="collapsedAddFormListIds",Fl=rn({__name:"[id]",async setup(e){let t,n;const o=Ir(),{isCollapsed:r,toggle:a,hasEverToggled:i}=mr(dr(o.params.id)),s=ht.values(),{categoriesWithProducts:l,error:c,loading:u,toggleInCart:d,addToShoppingList:y,deleteProductFromShoppingList:f,switchProductCategory:b,shoppingListDetails:v}=([t,n]=Xn(()=>gl(o.params.id,{useAutoListenFor:["shoppingListChanges"]})),t=await t,n(),t),m=J(()=>v.value.reduce((L,M)=>L+ +!M.inCart,0)),g=Y(null),h={group:"shopping-list",animation:200,handle:".handle",onEnd:L=>{if(Hr(L.data))return;const M=x.value?.find(ie=>ie.id===BigInt(L.to.parentElement?.dataset.categoryId??-1));M&&(b(L.data.id,M),setTimeout(()=>{g.value=null},So))},forceFallback:!0,fallbackClass:"hidden",onChoose:L=>{g.value=Date.now()}},p=Dn({name:""}),E=Dn({name:"",quantity:1,unit:ht.GRAM,categoryId:1n}),C=J(()=>[c.value,k.value].filter(Boolean)),F=Y([]),R=Y(!1),_=Y(!1),A=Y(-1);function V(){F.value.length>0&&(R.value=!0)}function D(){R.value=!1,A.value=-1}function S(L){try{E.name=L.name,E.unit=ht.valueOf(L.unit.name),D()}catch(M){console.error("selectSuggestion->",M)}}async function O(L){if(!L||L.trim().length<2){F.value=[],D();return}_.value=!0;try{const M=await Yr.getProductSuggestionAsync(E.name);if("error"in M){F.value=[],D();return}if(!("result"in M)){F.value=[],D();return}const ie=zt(M.result);F.value=ie||[],V()}finally{_.value=!1}}const{data:x,error:k,status:B}=([t,n]=Xn(async()=>ko("categories",async()=>{const L=await Xr.getCategoriesAsync();if("error"in L)throw new Error(L);if(!("result"in L))throw new Error(`Unsupported response type: ${L.constructor.name}`);return zt(L.result)},{server:!1})),t=await t,n(),t),W=Y(null),X=Y(""),te=J(()=>!X.value||X.value===W.value?.name?x.value:x.value?.filter(({name:L})=>new RegExp(X.value,"i").test(L))),at=L=>{W.value=L,E.categoryId=BigInt(L.id),X.value=L.name};async function fr(L){y({listId:o.params.id,...E},()=>{const M=L.currentTarget||L.target;M?.reset(),M?.elements.namedItem("product")?.focus(),pr()},M=>{p.name=M.message}).catch(M=>{p.name=M&&"message"in M?M.message:"Unknown error"})}function pr(){E.name="",E.quantity=1,p.name=""}function hr(L){g.value&&Date.now()-g.value>So||(!i.value&&!r.value&&a(),d(L))}St(()=>{v.value.some(M=>M.inCart)&&!r.value&&a()});function gr(L,M){return L.name===M&&L.unit.name===E.unit.name}function mr(L){const M=ua(Il,new Set),ie=Y(!1),Ot=Y(!1);St(()=>{ie.value=M.value.has(L)});function kt(){M.value.has(L)?M.value.delete(L):M.value.add(L),ie.value=M.value.has(L),Ot.value=!0}return{isCollapsed:Xe(ie),hasEverToggled:Xe(Ot),toggle:kt}}return(L,M)=>{const ie=To,Ot=Fr,kt=ba,vr=hl;return K(),Z("div",ml,[G("div",vl,[G("div",yl,[ne(Ot,{class:"btn btn-ghost btn-circle relative",to:"/"},{default:Se(()=>[ne(ie,{name:"streamline-freehand:keyboard-arrow-return"})]),_:1}),ne(ie,{class:Yt([T(u)?"":"invisible","animate-spin text-info"]),name:"streamline-freehand:loading-star-1"},null,8,["class"]),G("span",bl,"Pozostało: "+me(T(m)),1),G("button",{class:"btn btn-ghost btn-circle",onClick:M[0]||(M[0]=(...H)=>T(a)&&T(a)(...H))},[ne(ie,{class:Yt([T(r)?"rotate-270":"rotate-90","transition-transform"]),name:"streamline-freehand:move-rectangle-left"},null,8,["class"])])]),ne(Pr,{name:"collapse"},{default:Se(()=>[Bt(G("form",{class:"list-row-separator grid grid-cols-[80px_minmax(0,_auto)_45px]",onSubmit:dn(fr,["prevent"])},[G("button",wl,[ne(ie,{name:"streamline-freehand:add-sign-bold"})]),ne(kt,{modelValue:T(E).name,"onUpdate:modelValue":M[1]||(M[1]=H=>T(E).name=H),"is-loading":T(_),"match-by":gr,suggestions:T(F),"label-key":"name","list-id":"suggestions",name:"product",placeholder:"Nazwa produktu",wrapperClass:"col-span-2",onSearch:O,onSelect:S},{item:Se(({item:H})=>[G("span",Sl,me(H.name),1),G("span",xl,me(H.unit||"szt."),1)]),_:1},8,["modelValue","is-loading","suggestions"]),Bt(G("input",{"onUpdate:modelValue":M[2]||(M[2]=H=>T(E).quantity=H),class:"input input-ghost",min:"1",name:"quantity",required:"",type:"number"},null,512),[[Ao,T(E).quantity]]),Bt(G("select",{"onUpdate:modelValue":M[3]||(M[3]=H=>T(E).unit=H),class:"select select-ghost col-span-2 w-full",name:"unit"},[M[6]||(M[6]=G("option",{disabled:"",selected:""},"Wybierz jednostkę",-1)),(K(!0),Z(ft,null,pt(T(s),H=>(K(),Z("option",{key:H.name,value:H},me(H.name),9,_l))),128))],512),[[Mr,T(E).unit]]),ne(kt,{modelValue:T(X),"onUpdate:modelValue":M[4]||(M[4]=H=>et(X)?X.value=H:null),"is-loading":T(B)==="pending",suggestions:T(te)??[],"label-key":"name","list-id":"categories",name:"category",wrapperClass:"col-span-3",onSelect:at},{input:Se(({value:H,listId:Ae,handleKeydown:jn,handleClick:yr,handleInput:br,bindFieldRef:wr,attrs:Sr})=>[G("div",{ref:wr,class:"flex items-center gap-2 input input-ghost w-full"},[ne(fn,{color:T(W)?.color??"323232",name:T(W)?.name??H},{label:Se(()=>[G("input",Ze({"aria-controls":Ae,value:H,"aria-autocomplete":"list",autocomplete:"off",placeholder:"Wybierz kategorię",role:"combobox",type:"text"},Sr,{onClick:yr,onInput:br,onKeydown:jn}),null,16,Cl)]),_:2},1032,["color","name"]),ne(ie,{class:"autocomplete-arrow",name:"mdi:chevron-down"})],512)]),item:Se(({item:H})=>[ne(fn,Rr(Nr(H)),null,16)]),_:1},8,["modelValue","is-loading","suggestions","onSelect"])],544),[[Lr,!T(r)]])]),_:1}),G("ul",El,[T(l).length?(K(!0),Z(ft,{key:0},pt(T(l),H=>(K(),Z("li",{key:H.category.id,class:"category-list"},[ne(fn,Ze({ref_for:!0},H.category),null,16),ne(vr,Ze({"data-category-id":H.category.id,itemProps:Ae=>({class:{"line-through":Ae.inCart},onClick:()=>hr(Ae.id)}),items:H.products},{ref_for:!0},h),{item:Se(({item:Ae})=>[G("span",Dl,me(Ae.name),1),G("button",{class:"btn btn-ghost btn-sm handle absolute px-2 py-4 mx-1 -my-4",onClick:M[5]||(M[5]=dn(()=>{},["stop"]))},[ne(ie,{name:"streamline-freehand:data-transfer-vertical"})]),G("span",null,me(Ae.quantity)+" "+me(Ae.unit),1),G("button",{onClick:dn(jn=>T(f)(Ae.id),["stop"])},[ne(ie,{name:"streamline-freehand:remove-delete-sign-bold"})],8,Al)]),empty:Se(()=>M[7]||(M[7]=[En("Brak produktów w kategorii",-1)])),_:2},1040,["data-category-id","itemProps","items"])]))),128)):(K(),Z("li",Tl,"Brak produktów na liście"))]),T(C).length?(K(),Z("div",Ol,[(K(!0),Z(ft,null,pt(T(C),H=>(K(),Z("span",kl,me(H),1))),256))])):Ht("",!0)])])}}});export{Fl as default};
//# sourceMappingURL=OPSwHipM.js.map
